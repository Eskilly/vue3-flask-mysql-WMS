{"version":3,"file":"js/719.619e4c86.js","mappings":"6OACOA,MAAM,a,GACJA,MAAM,Y,GACJA,MAAM,iB,UACTC,EAAAA,EAAAA,GAAiC,MAA7BD,MAAM,eAAc,QAAI,K,gJAHlCE,EAAAA,EAAAA,IA0CM,MA1CNC,EA0CM,EAzCJF,EAAAA,EAAAA,GAwCM,MAxCNG,EAwCM,EAvCJH,EAAAA,EAAAA,GAsCM,MAtCNI,EAsCM,CArCJC,GACAC,EAAAA,EAAAA,IAmCUC,EAAA,CAlCRC,IAAI,QACHC,MAAOC,EAAAC,UACR,cAAY,QACXC,MAAOC,EAAAD,O,mBAGR,IAQe,EARfN,EAAAA,EAAAA,IAQeQ,EAAA,CARDC,MAAM,KAAKC,KAAK,M,mBAC5B,IAMY,EANZV,EAAAA,EAAAA,IAMYW,EAAA,CALVC,MAAA,gBACAC,KAAK,O,WACST,EAAAC,UAAUS,G,qCAAVV,EAAAC,UAAUS,GAAEC,G,eAA1B,CAAAC,MAAA,GACAC,aAAa,MACbC,KAAK,S,iCAGTlB,EAAAA,EAAAA,IAUeQ,EAAA,CAVDC,MAAM,KAAKC,KAAK,Y,mBAC5B,IAQY,EARZV,EAAAA,EAAAA,IAQYW,EAAA,CAPVC,MAAA,gBACAC,KAAK,W,WACST,EAAAC,UAAUc,S,qCAAVf,EAAAC,UAAUc,SAAQJ,G,eAAhC,CAAAC,MAAA,GACA,mBACAC,aAAa,MACbC,KAAK,QACJE,SAAKC,EAAAA,EAAAA,IAAQd,EAAAe,QAAO,Y,2CAGzBtB,EAAAA,EAAAA,IAOeQ,EAAA,M,kBANb,IAKC,EALDR,EAAAA,EAAAA,IAKCuB,EAAA,CAJCV,KAAK,UACJW,QAAOjB,EAAAe,QACPG,SAAUlB,EAAAmB,kB,mBACV,IAAG,UAAH,U,6GAcf,GACEC,KAAM,SACNC,QACE,IAAIF,GAAiBxB,EAAAA,EAAAA,KAAI,GACzB,MAAM2B,GAAMC,EAAAA,EAAAA,IAAS,CACnBzB,UAAU,CACRS,GAAI,GACJK,SAAU,MAGRb,EAAM,CACRQ,GAAI,CAAC,CAAEiB,UAAU,EAAMC,QAAS,QAASC,QAAS,SAClDd,SAAU,CAAC,CAAEY,UAAU,EAAMC,QAAS,OAAQC,QAAS,UAEnDC,GAAQC,EAAAA,EAAAA,IAAO,SAGrB,SAASC,IACP,MAA8B,KAAvBP,EAAMxB,UAAUS,EAC3B,CACA,MAAMQ,EAAUA,KAEdI,GAAmB,EACnB,MAAMW,EAAED,IAEN,IAAIC,EA4BF,OAFAX,GAAmB,EACnBY,QAAQC,IAAI,SACL,EAzBPL,EACGM,KAAK,cAAeX,EAAMxB,WAC1BoC,MAAMC,GAAQA,EAAIC,OAClBF,MAAMC,IAEL,GAAgB,KAAZA,EAAIE,KAcN,OAHAlB,GAAmB,EACnBmB,MAAM,mBAEC,EAZPC,eAAeC,QAAQ,UAAWC,KAAKC,UAAUP,EAAIC,KAAKO,OAC1DJ,eAAeC,QAAQ,QAASL,EAAIC,KAAKQ,OACzCjB,EAAMkB,SAASC,QAAQC,OAAO,iBAC5BR,eAAeS,QAAQ,SACzBC,EAAAA,EAAAA,OAAa,UAAUd,EAAIC,KAAKc,MAEhCC,EAAAA,EAAAA,QAAe,SAOjB,GAMN,EAIJ,MAAO,KACFC,EAAAA,EAAAA,IAAO9B,GACVvB,QACAgB,UACAI,mBAEJ,G,QC5GF,MAAMkC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://myweb/./src/components/Login.vue","webpack://myweb/./src/components/Login.vue?38a9"],"sourcesContent":["<template>\n  <div class=\"loginBody\">\n    <div class=\"loginDiv\">\n      <div class=\"login-content\">\n        <h1 class=\"login-title\">用户登录</h1>\n        <el-form\n          ref=\"login\"\n          :model=\"loginForm\"\n          label-width=\"100px\"\n          :rules=\"rules\"\n          \n        >\n          <el-form-item label=\"账号\" prop=\"no\">\n            <el-input\n              style=\"width: 200px\"\n              type=\"text\"\n              v-model.trim=\"loginForm.no\"\n              autocomplete=\"off\"\n              size=\"small\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"密码\" prop=\"password\">\n            <el-input\n              style=\"width: 200px\"\n              type=\"password\"\n              v-model.trim=\"loginForm.password\"\n              show-password\n              autocomplete=\"off\"\n              size=\"small\"\n              @keyup.enter=\"confirm\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button\n              type=\"primary\"\n              @click=\"confirm\"\n              :disabled=\"confirm_disabled\"\n              >确 定</el-button\n            >\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive,ref,toRefs,inject } from 'vue';\nimport router from '../router'\nimport store from '../store';\n\nexport default {\n  name: 'L-ogin',\n  setup() {\n    let confirm_disabled=ref(false);\n    const state=reactive({\n      loginForm:{\n        no: '',\n        password: ''\n      }\n      });\n    const rules={\n        no: [{ required: true, message: '请输入账号', trigger: 'blur' }],\n        password: [{ required: true, message: '请输密码', trigger: 'blur' }],\n      };\n      const axios = inject('axios');\n      //const httpUrl = inject('httpUrl');\n      //const store = inject('store');\n      function validate() {\n        return state.loginForm.no !== '';\n    }\n    const confirm = () => {\n      // 使用 loginFormRef.value 来引用表单组件\n      confirm_disabled = true\n      const v=validate();\n      \n        if (v) {\n          //valid成功为true，失败为false\n          //去后台验证用户名密码\n          axios\n            .post('/user/login', state.loginForm)\n            .then((res) => res.data)\n            .then((res) => {\n              //console.log(res)\n              if (res.code == 200) {\n                //存储\n                sessionStorage.setItem('CurUser', JSON.stringify(res.data.user))\n                sessionStorage.setItem(\"token\", res.data.token)\n                axios.defaults.headers.common['Authorization'] =\n                  sessionStorage.getItem(\"token\")\n                store.commit('setMenu',res.data.menu)\n                //跳转到主页\n                router.replace('/Index')\n                \n              } else {\n                confirm_disabled = false\n                alert('校验失败，用户名或密码错误！')\n                \n                return false\n              }\n            })\n        } else {\n          confirm_disabled = false\n          console.log('校验失败')\n          return false\n        }\n      \n    }\n\n    return {\n      ...toRefs(state),\n      rules,\n      confirm,\n      confirm_disabled,\n    }\n  },\n}\n\n</script>\n\n<style scoped>\n.loginBody {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: #b3c0d1;\n}\n.loginDiv {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -200px;\n  margin-left: -250px;\n  width: 450px;\n  height: 330px;\n  background: #fff;\n  border-radius: 5%;\n}\n.login-title {\n  margin: 20px 0;\n  text-align: center;\n}\n.login-content {\n  width: 400px;\n  height: 250px;\n  position: absolute;\n  top: 25px;\n  left: 25px;\n}\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=0f80e80b&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=0f80e80b&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Downloads\\\\springboot_vue_wms\\\\myweb\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0f80e80b\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_el_form","ref","model","_ctx","loginForm","rules","$setup","_component_el_form_item","label","prop","_component_el_input","style","type","no","$event","trim","autocomplete","size","password","onKeyup","_withKeys","confirm","_component_el_button","onClick","disabled","confirm_disabled","name","setup","state","reactive","required","message","trigger","axios","inject","validate","v","console","log","post","then","res","data","code","alert","sessionStorage","setItem","JSON","stringify","user","token","defaults","headers","common","getItem","store","menu","router","toRefs","__exports__","render"],"sourceRoot":""}
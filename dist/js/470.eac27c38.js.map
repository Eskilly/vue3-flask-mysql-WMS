{"version":3,"file":"js/470.eac27c38.js","mappings":"4KACSA,IAAI,WAAWC,MAAM,O,0CAA1BC,EAAAA,EAAAA,IAAsC,MAAtCC,EAAsC,S,yqxjBAM1C,GACIC,KAAM,OACNC,QACI,MAAMC,GAAQC,EAAAA,EAAAA,IAAO,SACfC,GAAWR,EAAAA,EAAAA,MAKjB,SAASS,IACL,OAAOH,EACFI,IAAI,gBACJC,MAAMC,IACH,GAAqB,KAAjBA,EAAIC,KAAKC,KACT,OAAOF,EAAIC,KAAKA,KAEhBE,MAAM,SACV,GAEZ,CACA,SAASC,EAAUC,IACfC,EAAAA,EAAAA,KAAS,KACL,IAAIC,EAAUC,EAAQC,KAAKb,EAASc,OAEpC,SAASC,EAAUN,EAAUO,GACzB,IAAIC,EAAQ,GACZ,IAAK,IAAIC,KAAOT,EAAU,CACtB,IAAIU,EAAMV,EAASS,GACnB,MAAMb,EAAOc,EAAIC,KAAKC,IACX,CACHP,MAAOO,EAAE,GACTzB,KAAMyB,EAAE,OAGhBJ,EAAMK,KAAK,CACPC,KAAM,MACNC,iBAAkB,MAClBC,QAAS,CACLC,UAAY,GAAER,6BAA+BC,EAAI,GAAG,MAExDQ,MAAO,CACHC,MAAM,GAEVC,UAAW,CACPD,MAAM,GAEVE,kBAAmB,EACnBd,SACAe,OAAQZ,EAAI,GAAG,GACfd,QAER,CAEA,OADA2B,QAAQC,IAAIhB,GACLA,CACX,CA/BAL,EAAQsB,YAAY,QAASC,GAgC7B,IAAIC,EAAS,CACTC,MAAO,CACHC,KAAM,WACNC,QAAS,OACTC,KAAM,UAEVC,IAAK,CACDb,MAAM,EACNG,OAAQ,CAAC,iBAAkB,iBAC3BX,IAAK,QACLsB,MAAM,EACNC,KAAM,EACNhB,MAAO,CAAEiB,SAAU,GAAIC,WAAY,QACnCC,WAAY,CACRC,IAAK,IACLC,IAAK,IAETC,SAAU,CACNC,UAAW,CACPC,UAAW,UACXxB,MAAO,CAAEC,MAAM,MAI3BH,QAAS,CAAC,EACV2B,OAAQrC,EAAUN,EAAU,KAEhCE,EAAQ0C,cACR1C,EAAQ2C,UAAUlB,EAAO,GAEjC,CACA,OAjFAmB,EAAAA,EAAAA,KAAUC,UACN,IAAIC,QAAgBxD,IACpBO,EAAUiD,EAAQ,IA+Ef,CAAEzD,WACb,G,QCvFJ,MAAM0D,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://myweb/./src/components/map/Map.vue","webpack://myweb/./src/components/map/Map.vue?62cc"],"sourcesContent":["<template>\r\n    <div ref=\"chinaMap\" class=\"map\"></div>\r\n</template>\r\n<script>\r\nimport * as echarts from 'echarts'\r\nimport chinaJson from '@/assets/china.json'\r\nimport { inject,onMounted, ref, nextTick } from 'vue'\r\nexport default {\r\n    name: 'M-ap',\r\n    setup() {\r\n        const axios = inject('axios');\r\n        const chinaMap = ref()\r\n        onMounted(async() => {\r\n            let mapdata= (await loadGet());\r\n            drawChina(mapdata);\r\n        })\r\n        function loadGet() {\r\n            return axios\r\n                .get('/storage/map')\r\n                .then((res) => {\r\n                    if (res.data.code == 200) {\r\n                        return res.data.data\r\n                    } else {\r\n                        alert('获取数据失败')\r\n                    }\r\n                })\r\n        }\r\n        function drawChina(mapdatas) {\r\n            nextTick(() => {\r\n                var myChart = echarts.init(chinaMap.value);\r\n                echarts.registerMap('china', chinaJson);\r\n                function PieSeries(mapdatas, radius) {\r\n                    let serie = [];\r\n                    for (let key in mapdatas) {\r\n                        var arr = mapdatas[key];\r\n                        const data = arr.map((t) => {\r\n                            return {\r\n                                value: t[3],\r\n                                name: t[0]\r\n                            };\r\n                        });\r\n                        serie.push({\r\n                            type: 'pie',\r\n                            coordinateSystem: 'geo',\r\n                            tooltip: {\r\n                                formatter: `${key}<br/>{b}: {c} ({d}%)<br/>${arr[0][4]}`\r\n                            },\r\n                            label: {\r\n                                show: false\r\n                            },\r\n                            labelLine: {\r\n                                show: false\r\n                            },\r\n                            animationDuration: 0,\r\n                            radius,\r\n                            center: arr[0][2],\r\n                            data\r\n                        });\r\n                    }\r\n                    console.log(serie)\r\n                    return serie;\r\n                }\r\n                var option = {\r\n                    title: {\r\n                        text: '仓库物品分类占比',\r\n                        subtext: '中国地图',\r\n                        left: 'center'\r\n                    },\r\n                    geo: {\r\n                        show: true,\r\n                        center: [105.194115019531, 35.582111640625],\r\n                        map: 'china',\r\n                        roam: true,\r\n                        zoom: 1,\r\n                        label: { fontSize: 50, fontWeight: 'bold' },\r\n                        scaleLimit: {\r\n                            min: 1.5,\r\n                            max: 15,\r\n                        },\r\n                        emphasis: {\r\n                            itemStyle: {\r\n                                areaColor: '#0055ff',\r\n                                label: { show: true },\r\n                            },\r\n                        },\r\n                    },\r\n                    tooltip: {},\r\n                    series: PieSeries(mapdatas, 20),\r\n                };\r\n                myChart.hideLoading();\r\n                myChart.setOption(option);\r\n            });\r\n        }\r\n        return { chinaMap }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n.map {\r\n    background-color: darkgrey;\r\n    width: 85vw;\r\n    height: 90vh;\r\n}\r\n\r\n* {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n</style>","import { render } from \"./Map.vue?vue&type=template&id=144a5294\"\nimport script from \"./Map.vue?vue&type=script&lang=js\"\nexport * from \"./Map.vue?vue&type=script&lang=js\"\n\nimport \"./Map.vue?vue&type=style&index=0&id=144a5294&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Downloads\\\\springboot_vue_wms\\\\myweb\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["ref","class","_createElementBlock","_hoisted_1","name","setup","axios","inject","chinaMap","loadGet","get","then","res","data","code","alert","drawChina","mapdatas","nextTick","myChart","echarts","init","value","PieSeries","radius","serie","key","arr","map","t","push","type","coordinateSystem","tooltip","formatter","label","show","labelLine","animationDuration","center","console","log","registerMap","chinaJson","option","title","text","subtext","left","geo","roam","zoom","fontSize","fontWeight","scaleLimit","min","max","emphasis","itemStyle","areaColor","series","hideLoading","setOption","onMounted","async","mapdata","__exports__","render"],"sourceRoot":""}
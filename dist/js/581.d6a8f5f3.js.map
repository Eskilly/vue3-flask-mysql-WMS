{"version":3,"file":"js/581.d6a8f5f3.js","mappings":"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","sources":["webpack://myweb/./src/components/record/RecordManage.vue","webpack://myweb/./src/components/record/RecordManage.vue?cac9"],"sourcesContent":["<template>\n  <div>\n    <div style=\"margin-bottom: 5px\">\n      <el-input v-model.trim=\"name\" placeholder=\"请输入物品名\" :suffix-icon=\"ElIconSearch\" style=\"width: 200px\"\n        @keyup.enter=\"loadPost\"></el-input>\n      <el-select v-model=\"storage\" placeholder=\"请选择仓库\" style=\"margin-left: 5px\">\n        <el-option v-for=\"item in storageData\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\n        </el-option>\n      </el-select>\n      <el-select v-model=\"goodstype\" placeholder=\"请选择分类\" style=\"margin-left: 5px\">\n        <el-option v-for=\"item in goodstypeData\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\n        </el-option>\n      </el-select>\n\n      <el-button type=\"primary\" style=\"margin-left: 5px\" @click=\"loadPost\">查询</el-button>\n      <el-button type=\"success\" @click=\"resetParam\">重置</el-button>\n    </div>\n    <el-table :data=\"tableData\" :header-cell-style=\"{ background: '#f2f5fc', color: '#555555' }\" border>\n      <el-table-column prop=\"id\" label=\"ID\" width=\"60\"> </el-table-column>\n      <el-table-column prop=\"action\" label=\"操作\" width=\"60\"> </el-table-column>\n      <el-table-column prop=\"goodsname\" label=\"物品名\" width=\"180\">\n      </el-table-column>\n      <el-table-column prop=\"count\" label=\"数量\" width=\"100\"> </el-table-column>\n      <el-table-column prop=\"storagename\" label=\"仓库\" width=\"180\">\n      </el-table-column>\n      <el-table-column prop=\"goodstypename\" label=\"分类\" width=\"180\">\n      </el-table-column>\n      <el-table-column prop=\"adminname\" label=\"操作人\" width=\"180\">\n      </el-table-column>\n      <el-table-column prop=\"username\" label=\"申请人\" width=\"180\">\n      </el-table-column>\n      <el-table-column prop=\"createtime\" label=\"操作时间\" width=\"220\">\n      </el-table-column>\n      <el-table-column prop=\"remark\" label=\"备注\"> </el-table-column>\n    </el-table>\n    <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"pageNum\"\n      :page-sizes=\"[5, 10, 20, 30]\" :page-size=\"pageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nimport { inject, onBeforeMount, reactive, toRefs } from 'vue';\nimport { Search as ElIconSearch } from '@element-plus/icons-vue'\nexport default {\n  setup() {\n    const axios = inject('axios');\n    const thisdata = reactive({\n      user: JSON.parse(sessionStorage.getItem('CurUser')),\n      storageData: [],\n      goodstypeData: [],\n      tableData: [],\n      pageSize: 10,\n      pageNum: 1,\n      total: 0,\n      name: '',\n      storage: '',\n      goodstype: '',\n      centerDialogVisible: false,\n      form: {\n        id: '',\n        name: '',\n        storage: '',\n        goodstype: '',\n        count: '',\n        remark: '',\n      },\n    })\n    function formatStorage(row) {\n      let temp = thisdata.storageData.find((item) => {\n        return item.id == row.storage\n      })\n\n      return temp && temp.name\n    }\n    function formatGoodstype(row) {\n      let temp = thisdata.goodstypeData.find((item) => {\n        return item.id == row.goodstype\n      })\n\n      return temp && temp.name\n    }\n    function resetForm() {\n      Object.keys(thisdata.form).forEach(key => {\n        thisdata.form[key] = ''\n      })\n    }\n    function handleSizeChange(val) {\n      console.log(`每页 ${val} 条`)\n      thisdata.pageNum = 1\n      thisdata.pageSize = val\n      loadPost()\n    }\n    function handleCurrentChange(val) {\n      console.log(`当前页: ${val}`)\n      thisdata.pageNum = val\n      loadPost()\n    }\n    function resetParam() {\n      thisdata.name = ''\n      thisdata.storage = ''\n      thisdata.goodstype = ''\n    }\n    function loadPost() {\n      axios\n        .post('/record/listPage', {\n          pageSize: thisdata.pageSize,\n          pageNum: thisdata.pageNum,\n          param: {\n            name: thisdata.name,\n            goodstype: thisdata.goodstype,\n            storage: thisdata.storage,\n            roleId: thisdata.user.roleId,\n            userId: thisdata.user.id,\n          },\n        })\n        .then((res) => res.data)\n        .then((res) => {\n          if (res.code == 200) {\n            thisdata.tableData = res.data\n            thisdata.tableData.forEach((item) => {\n              const d = new Date(item.createtime)\n              item.createtime = d.toLocaleDateString(\"zh-CN\", {\n                year: 'numeric', month: '2-digit', day: '2-digit',\n                weekday: 'short', hour: 'numeric', minute: 'numeric', second: 'numeric'\n              });\n            })\n            thisdata.total = res.total\n          } else {\n            alert('获取数据失败')\n          }\n        })\n    }\n    function loadStorage() {\n      axios\n        .get('/storage/list')\n        .then((res) => res.data)\n        .then((res) => {\n          console.log(res)\n          if (res.code == 200) {\n            thisdata.storageData = res.data\n          } else {\n            alert('获取数据失败')\n          }\n        })\n    }\n    function loadGoodstype() {\n      axios\n        .get('/goodstype/list')\n        .then((res) => res.data)\n        .then((res) => {\n          console.log(res)\n          if (res.code == 200) {\n            thisdata.goodstypeData = res.data\n          } else {\n            alert('获取数据失败')\n          }\n        })\n    }\n    onBeforeMount(() => {\n      loadGoodstype()\n      loadStorage()\n      loadPost()\n    })\n    return {\n      ...toRefs(thisdata),\n      ElIconSearch,\n      formatGoodstype, formatStorage, resetForm, handleCurrentChange, handleSizeChange, resetParam, loadPost,\n    }\n  },\n  name: 'RecordManage',\n}\n</script>\n","import { render } from \"./RecordManage.vue?vue&type=template&id=82b96d40\"\nimport script from \"./RecordManage.vue?vue&type=script&lang=js\"\nexport * from \"./RecordManage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Downloads\\\\springboot_vue_wms\\\\myweb\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["style","_createElementBlock","_createElementVNode","_hoisted_1","_createVNode","_component_el_input","_ctx","name","$event","trim","placeholder","$setup","ElIconSearch","onKeyup","_withKeys","loadPost","_component_el_select","storage","_Fragment","_renderList","storageData","item","_createBlock","_component_el_option","key","id","label","value","goodstype","goodstypeData","_component_el_button","type","onClick","resetParam","_component_el_table","data","tableData","background","color","border","_component_el_table_column","prop","width","_component_el_pagination","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange","pageNum","pageSize","layout","total","setup","axios","inject","thisdata","reactive","user","JSON","parse","sessionStorage","getItem","centerDialogVisible","form","count","remark","formatStorage","row","temp","find","formatGoodstype","resetForm","Object","keys","forEach","val","console","log","post","param","roleId","userId","then","res","code","d","Date","createtime","toLocaleDateString","year","month","day","weekday","hour","minute","second","alert","loadStorage","get","loadGoodstype","onBeforeMount","toRefs","__exports__","render"],"sourceRoot":""}
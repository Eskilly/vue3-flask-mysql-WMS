"use strict";(self["webpackChunkmyweb"]=self["webpackChunkmyweb"]||[]).push([[719],{8719:function(e,o,l){l.r(o),l.d(o,{default:function(){return b}});var t=l(3396),n=l(9242);const r=e=>((0,t.dD)("data-v-0f80e80b"),e=e(),(0,t.Cn)(),e),s={class:"loginBody"},i={class:"loginDiv"},a={class:"login-content"},d=r((()=>(0,t._)("h1",{class:"login-title"},"用户登录",-1)));function u(e,o,l,r,u,m){const p=(0,t.up)("el-input"),c=(0,t.up)("el-form-item"),f=(0,t.up)("el-button"),g=(0,t.up)("el-form");return(0,t.wg)(),(0,t.iD)("div",s,[(0,t._)("div",i,[(0,t._)("div",a,[d,(0,t.Wm)(g,{ref:"login",model:e.loginForm,"label-width":"100px",rules:r.rules},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{label:"账号",prop:"no"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{style:{width:"200px"},type:"text",modelValue:e.loginForm.no,"onUpdate:modelValue":o[0]||(o[0]=o=>e.loginForm.no=o),modelModifiers:{trim:!0},autocomplete:"off",size:"small"},null,8,["modelValue"])])),_:1}),(0,t.Wm)(c,{label:"密码",prop:"password"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{style:{width:"200px"},type:"password",modelValue:e.loginForm.password,"onUpdate:modelValue":o[1]||(o[1]=o=>e.loginForm.password=o),modelModifiers:{trim:!0},"show-password":"",autocomplete:"off",size:"small",onKeyup:(0,n.D2)(r.confirm,["enter"])},null,8,["modelValue","onKeyup"])])),_:1}),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(f,{type:"primary",onClick:r.confirm,disabled:r.confirm_disabled},{default:(0,t.w5)((()=>[(0,t.Uk)("确 定")])),_:1},8,["onClick","disabled"])])),_:1})])),_:1},8,["model","rules"])])])])}var m=l(4870),p=l(1120),c=l(4239),f={name:"L-ogin",setup(){let e=(0,m.iH)(!1);const o=(0,m.qj)({loginForm:{no:"",password:""}}),l={no:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输密码",trigger:"blur"}]},n=(0,t.f3)("axios");function r(){return""!==o.loginForm.no}const s=()=>{e=!0;const l=r();if(!l)return e=!1,console.log("校验失败"),!1;n.post("/user/login",o.loginForm).then((e=>e.data)).then((o=>{if(200!=o.code)return e=!1,alert("校验失败，用户名或密码错误！"),!1;sessionStorage.setItem("CurUser",JSON.stringify(o.data.user)),sessionStorage.setItem("token",o.data.token),n.defaults.headers.common["Authorization"]=sessionStorage.getItem("token"),c.Z.commit("setMenu",o.data.menu),p.Z.replace("/Index")}))};return{...(0,m.BK)(o),rules:l,confirm:s,confirm_disabled:e}}},g=l(89);const w=(0,g.Z)(f,[["render",u],["__scopeId","data-v-0f80e80b"]]);var b=w}}]);
//# sourceMappingURL=719.619e4c86.js.map